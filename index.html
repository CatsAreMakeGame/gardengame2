<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spinner Game</title>
<style>
  body {
    background: radial-gradient(circle, #222, #111);
    color: white;
    text-align: center;
    font-family: Arial, sans-serif;
  }
  h1 {
    margin-top: 20px;
  }
  #wheelCanvas {
    background: #333;
    border-radius: 50%;
    margin-top: 20px;
    box-shadow: 0 0 20px rgba(255,255,255,0.3);
  }
  button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 18px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: linear-gradient(90deg, #ff8800, #ffaa00);
    color: white;
    font-weight: bold;
  }
  #result {
    margin-top: 20px;
    font-size: 20px;
    color: #ffeb3b;
  }
</style>
</head>
<body>

<h1>🎡 Cool Reward Spinner</h1>
<canvas id="wheelCanvas" width="400" height="400"></canvas><br>
<button id="spinBtn">SPIN</button>
<div id="result"></div>

<script>
const canvas = document.getElementById('wheelCanvas');
const ctx = canvas.getContext('2d');
const spinBtn = document.getElementById('spinBtn');
const resultDiv = document.getElementById('result');

// Rewards setup
const rewards = [
  { text: "💰 100 Coins", color: "#ff5722" },
  { text: "💎 50 Gems", color: "#3f51b5" },
  { text: "⭐ Epic Sword", color: "#9c27b0" },
  { text: "🍀 Lucky Charm", color: "#4caf50" },
  { text: "🔥 Fire Skin", color: "#f44336" },
  { text: "🎟 Bonus Ticket", color: "#009688" },
  { text: "💰 500 Coins", color: "#ff9800" },
  { text: "👑 Legendary Crown", color: "#ffeb3b" }
];
const numSegments = rewards.length;
const segmentAngle = 2 * Math.PI / numSegments;

let currentAngle = 0;
let spinning = false;
let spinSpeed = 0;
let spinAcceleration = 0;

// Draw the wheel
function drawWheel() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  const radius = canvas.width / 2;
  
  for (let i = 0; i < numSegments; i++) {
    const angleStart = currentAngle + i * segmentAngle;
    ctx.beginPath();
    ctx.moveTo(radius, radius);
    ctx.arc(radius, radius, radius, angleStart, angleStart + segmentAngle);
    ctx.fillStyle = rewards[i].color;
    ctx.fill();
    ctx.save();
    ctx.translate(radius, radius);
    ctx.rotate(angleStart + segmentAngle / 2);
    ctx.textAlign = "right";
    ctx.fillStyle = "#fff";
    ctx.font = "16px Arial";
    ctx.fillText(rewards[i].text, radius - 10, 5);
    ctx.restore();
  }
  
  // Draw center circle
  ctx.beginPath();
  ctx.arc(radius, radius, 40, 0, 2 * Math.PI);
  ctx.fillStyle = "#222";
  ctx.fill();
  
  // Draw pointer
  ctx.beginPath();
  ctx.moveTo(radius, radius - radius + 5);
  ctx.lineTo(radius - 15, radius - radius + 40);
  ctx.lineTo(radius + 15, radius - radius + 40);
  ctx.closePath();
  ctx.fillStyle = "#ffeb3b";
  ctx.fill();
}

function spinWheel() {
  if (spinning) return;
  spinning = true;
  resultDiv.textContent = "";
  spinSpeed = Math.random() * 0.3 + 0.25;
  spinAcceleration = 0.002;
  animate();
}

function animate() {
  if (!spinning) return;
  
  currentAngle += spinSpeed;
  spinSpeed -= spinAcceleration;
  
  if (spinSpeed <= 0) {
    spinning = false;
    // Determine reward
    const degrees = currentAngle * 180 / Math.PI + 90;
    const index = Math.floor(numSegments - (degrees % 360) / (360 / numSegments)) % numSegments;
    resultDiv.textContent = `🎉 You won: ${rewards[index].text}!`;
    return;
  }
  
  drawWheel();
  requestAnimationFrame(animate);
}

// Initial draw
drawWheel();
spinBtn.addEventListener("click", spinWheel);
</script>

</body>
</html>
